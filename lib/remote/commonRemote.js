require('es6-promise').polyfill();require('gritter');const create = require('./remote.js');var storage = require('beyond-lib/lib/storage');let remote = create();remote.base({    basePath: '/service/admin',    method: 'post',    requestJSON: true,    responseJSON: true,    headers: {        XTOKEN: storage.getCookie('admin-token'),        adRole: '1'    }});remote.on('error', error => {    if (error.status === 900) {        $.gritter.add({            title: error.title,            time: '3000',            class_name: 'gritter-error gritter-center'        });        return;    }    return error.then((data) => {        if (data.status === 401) {            storage.setCookie('admin-token', '', -1);            storage.setCookie('userName', '', -1);            location.href = app.loginPagePath        } else {            $.gritter.add({                title: data.title,                time: '3000',                class_name: 'gritter-error gritter-center'            })        }    });});module.exports = remote;